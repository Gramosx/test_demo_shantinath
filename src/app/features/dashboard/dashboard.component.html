<div class="dashboard-container">
    <h1 class="page-title">Dashboard</h1>

    <div *ngIf="loading" class="loading-indicator">
        Loading dashboard statistics...
    </div>

    <div *ngIf="error" class="error-message">
        {{ error }}
    </div>

    <div *ngIf="!loading && stats" class="stats-container">
        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-value">{{ stats.total }}</div>
                <div class="stat-label">Total Tenders</div>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button color="primary" routerLink="/tenders">View All</button>
            </mat-card-actions>
        </mat-card>

        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-value">{{ stats.active }}</div>
                <div class="stat-label">Active Tenders</div>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button color="primary" [routerLink]="['/tenders']"
                    [queryParams]="{status: 'IN_PROGRESS'}">View Active</button>
            </mat-card-actions>
        </mat-card>

        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-value">{{ stats.completed }}</div>
                <div class="stat-label">Completed Tenders</div>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button color="primary" [routerLink]="['/tenders']"
                    [queryParams]="{status: 'COMPLETED'}">View Completed</button>
            </mat-card-actions>
        </mat-card>

        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-value">{{ stats.growth | percent:'1.1-1' }}</div>
                <div class="stat-label">Monthly Growth</div>
            </mat-card-content>
        </mat-card>
    </div>

    <div *ngIf="!loading && stats" class="section">
        <h2 class="section-title">Recent Activity</h2>
        <mat-card>
            <mat-card-content>
                <div class="recent-info">
                    <mat-icon color="primary">business</mat-icon>
                    <span>{{ stats.newOrganizations }} new organizations this month</span>
                </div>
                <div class="recent-actions">
                    <button mat-raised-button color="primary" routerLink="/tenders/new">
                        <mat-icon>add</mat-icon>
                        Create New Tender
                    </button>
                    <button mat-stroked-button color="accent" routerLink="/organizations/new">
                        <mat-icon>business</mat-icon>
                        Add Organization
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>
